PROYECTO: PRUEBAS UNITARIAS CON JEST â€“ ADMINISTRADOR DE TAREAS
ğŸ“ CARPETAS Y ARCHIVOS DEL PROYECTO


Administrador de tareas/
â”œâ”€â”€ node_modules/
â”œâ”€â”€ babel.config.js
â”œâ”€â”€ package.json
â”œâ”€â”€ taskManager.js
â”œâ”€â”€ taskManager.test.js
ğŸ“ CARPETA: node_modules/
ğŸ“Œ Â¿QuÃ© es?
Esta carpeta se crea automÃ¡ticamente cuando usamos npm install.

ğŸ§  Â¿Para quÃ© sirve?
Contiene todas las dependencias necesarias para ejecutar Jest y Babel.

Nunca se edita manualmente.

No se sube a GitHub ni se comparte; se genera automÃ¡ticamente.

ğŸ“„ ARCHIVO: package.json
ğŸ“Œ Â¿QuÃ© es?
Es el archivo principal de configuraciÃ³n del proyecto en Node.js.

ğŸ§  Â¿Para quÃ© sirve?
Define el nombre del proyecto, versiÃ³n y tipo de mÃ³dulos.

Guarda las dependencias necesarias (como jest, babel-jest).

Permite ejecutar scripts como npm test.

ğŸ“„ CÃ³digo :
json
Copiar
Editar
{
  "name": "admin-de-tareas",              // Nombre del proyecto
  "version": "1.0.0",                      // VersiÃ³n
  "type": "module",                        // Permite usar import/export
  "scripts": {
    "test": "jest"                         // Permite ejecutar pruebas con "npm test"
  },
  "devDependencies": {
    "jest": "^29.0.0",                     // Herramienta para pruebas
    "@babel/preset-env": "^7.0.0",         // Convierte cÃ³digo moderno
    "babel-jest": "^29.0.0"                // Conecta Jest con Babel
  }
}
ğŸ“„ ARCHIVO: babel.config.js
ğŸ“Œ Â¿QuÃ© es?
Es el archivo que configura Babel para que pueda entender cÃ³digo moderno (como import/export) dentro de Jest.

ğŸ§  Â¿Para quÃ© sirve?
Permite que Jest pueda interpretar correctamente nuestros mÃ³dulos JavaScript (ESModules).

ğŸ“„ CÃ³digo explicado:
js

export default {
  presets: [['@babel/preset-env', { targets: { node: 'current' } }]]
};
@babel/preset-env: convierte el cÃ³digo moderno a una versiÃ³n que Node.js pueda ejecutar.

targets: { node: 'current' }: asegura compatibilidad con tu versiÃ³n de Node.

ğŸ“„ ARCHIVO: taskManager.js
ğŸ“Œ Â¿QuÃ© es?
Este archivo contiene toda la lÃ³gica del administrador de tareas. AquÃ­ se implementan las funciones que permiten crear, eliminar y manejar tareas.

ğŸ§  Â¿Para quÃ© sirve?
Separar la lÃ³gica del sistema para que se pueda probar fÃ¡cilmente sin depender de HTML o del navegador.

ğŸ“„ CÃ³digo y explicaciÃ³n:
js

export let tasks = [];
ğŸ“Œ Es un arreglo que almacena todas las tareas. Se exporta para que otros archivos puedan usarlo.

js
Copiar
Editar
export function addTask(title, date) {
  if (!title || !date) throw new Error("Campos incompletos");
ğŸ“Œ La funciÃ³n addTask crea una tarea nueva. Si falta algÃºn campo, lanza un error para evitar datos incompletos.

js
Copiar
Editar
  const newTask = {
    id: Date.now(),
    title,
    date,
    completed: false
  };
ğŸ“Œ Crea el objeto newTask con un ID Ãºnico, tÃ­tulo, fecha y estado completed en false.

js
Copiar
Editar
  tasks.push(newTask);
  return newTask;
}
ğŸ“Œ La tarea se guarda en el arreglo tasks y se retorna para confirmar su creaciÃ³n.

js
Copiar
Editar
export function toggleTask(id) {
  const task = tasks.find(t => t.id === id);
  if (task) task.completed = !task.completed;
}
ğŸ“Œ Busca una tarea por su ID y cambia su estado: de completada a pendiente, o viceversa.

js
Copiar
Editar
export function deleteTask(id) {
  tasks = tasks.filter(t => t.id !== id);
}
ğŸ“Œ Elimina una tarea por su ID, dejando todas las demÃ¡s.

js
Copiar
Editar
export function getTasks(filter = "all") {
  if (filter === "completed") return tasks.filter(t => t.completed);
  if (filter === "pending") return tasks.filter(t => !t.completed);
  return tasks;
}
ğŸ“Œ Filtra las tareas segÃºn el estado:

"all" â†’ todas las tareas.

"completed" â†’ solo completadas.

"pending" â†’ solo pendientes.

js
Copiar
Editar
export function clearTasks() {
  tasks = [];
}
ğŸ“Œ Limpia todas las tareas. Se usa para reiniciar el sistema en las pruebas.

ğŸ“„ ARCHIVO: taskManager.test.js
ğŸ“Œ Â¿QuÃ© es?
Este archivo contiene las pruebas unitarias usando Jest.
Cada prueba verifica que una funciÃ³n del sistema funcione correctamente.

ğŸ§  Â¿Para quÃ© sirve?
Asegura que el sistema sea confiable.

Evita errores en funciones clave.

Permite hacer cambios sin miedo a romper otras partes del cÃ³digo.

ğŸ“„ CÃ³digo y explicaciÃ³n:
js
Copiar
Editar
import {
  addTask,
  toggleTask,
  deleteTask,
  getTasks,
  clearTasks
} from './taskManager.js';
ğŸ“Œ Importamos todas las funciones que vamos a probar.

js
Copiar
Editar
beforeEach(() => {
  clearTasks();
});
ğŸ“Œ Antes de cada prueba, limpiamos el arreglo de tareas para que los resultados no se mezclen.

âœ… Prueba 1: AÃ±adir tarea correctamente
js
Copiar
Editar
test('aÃ±ade una tarea correctamente', () => {
  const task = addTask("Estudiar Jest", "2025-05-22");
  expect(task.title).toBe("Estudiar Jest");
  expect(task.date).toBe("2025-05-22");
  expect(task.completed).toBe(false);
});
âœ” Verifica que la funciÃ³n addTask cree la tarea con los valores correctos.

âœ… Prueba 2: Campos vacÃ­os
js
Copiar
Editar
test('lanza error si falta tÃ­tulo o fecha', () => {
  expect(() => addTask("", "")).toThrow("Campos incompletos");
});
âœ” Confirma que no se puede crear una tarea sin datos vÃ¡lidos.

âœ… Prueba 3: Cambiar estado
js
Copiar
Editar
test('cambia el estado de completado', () => {
  const task = addTask("Completar tarea", "2025-05-22");
  toggleTask(task.id);
  expect(getTasks()[0].completed).toBe(true);
});
âœ” Verifica que el estado de la tarea se actualiza correctamente.

âœ… Prueba 4: Eliminar tarea
js
Copiar
Editar
test('elimina una tarea por id', () => {
  const task = addTask("Tarea a eliminar", "2025-05-22");
  deleteTask(task.id);
  expect(getTasks()).toHaveLength(0);
});
âœ” Asegura que la tarea desaparezca del sistema.

âœ… Prueba 5: Filtrar tareas
js
Copiar
Editar
test('filtra tareas completadas y pendientes', () => {
  const t1 = addTask("Tarea 1", "2025-05-22");
  const t2 = addTask("Tarea 2", "2025-05-22");
  toggleTask(t1.id);

  expect(getTasks("completed")).toHaveLength(1);
  expect(getTasks("pending")).toHaveLength(1);
});
âœ” Comprueba que el filtro devuelve correctamente las tareas segÃºn su estado.

âœ… Â¿CÃ“MO EJECUTAR LAS PRUEBAS?
Abre la terminal.

Escribe:

bash
Copiar
Editar
npm install
npm test
âœ… Si todo funciona bien, verÃ¡s algo asÃ­:

bash
Copiar
Editar
PASS  ./taskManager.test.js
âœ“ aÃ±ade una tarea correctamente
âœ“ lanza error si falta tÃ­tulo o fecha
âœ“ cambia el estado de completado
âœ“ elimina una tarea por id
âœ“ filtra tareas completadas y pendientes